<!DOCTYPE html>
<html>
<head>
    <title>SDF</title>
    <script type="text/javascript" src="../lib/noders-gl.js"></script>
    <script type="text/javascript" src="../lib/gl-matrix-min.js"></script>
    <script type="text/javascript" src="../lib/orbital-camera.js"></script>
</head>
<body>

<canvas id="canvas" width="512" height="512"></canvas>
<script type="text/javascript">
    const renderer = new NGL.Renderer({ canvas: document.getElementById('canvas') });
    const sdfPipeline = new NGL.Pipeline({
        renderer: renderer,
        vertexSize: Float32Array.BYTES_PER_ELEMENT * 2,
        vertShader: 
        `
        precision mediump float;

        attribute vec2 inPosition;

        void main() {
            gl_Position = vec4(inPosition, 0.0, 1.0);
        }

        `,
        fragShader:
        `
        precision mediump float;

        float getScene(vec3 position)
        {
            return 0.0;
        }

        void main () 
        { 

            

            gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);

        }
        `,
        attributes:  {
            'inPosition': {
                size: 2,
                type: NGL.AttribType.FLOAT,
                offset: 0
            }
        }
    });
    const vertexBuffer = new NGL.VertexBuffer({
        renderer: renderer,
        data: new Float32Array([-1, 1, -1, -7, 7, 1])
    });
    

    requestAnimationFrame(function loop() {
        renderer.beginPass(vertexBuffer, sdfPipeline);
        {
            renderer.clearTarget(NGL.ClearTarget.ALL);
            renderer.draw(0, 3);
        }
        renderer.endPass();
        requestAnimationFrame(loop);
    });
</script>
</body>
</html>